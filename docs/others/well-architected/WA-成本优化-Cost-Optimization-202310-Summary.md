---
title: WA-成本优化-Cost-Optimization-202310-Summary
description: 
created: 2022-02-10 23:02:25.693
last_modified: 2024-01-22
tags:
  - aws/well-architected
---

##  设计原则

```ad-note
collapse: close
title:  实施云财务管理

为了在云中实现财务成功并加速实现业务价值，您需要投资于云财务管理/成本优化。您的组织需要投入时间和资源来构建这个新的技术和使用管理领域的能力. 与您的安全或卓越运营能力类似，您需要通过知识构建、计划、资源和流程来构建能力，以成为具有成本效益的组织。
```

```ad-note
collapse: close
title:  采用消费模式

只为你需要的计算资源付费，并根据业务需求增加或减少使用量，而不是通过精细的预测。例如，开发和测试环境通常在工作周内每天只使用八小时. 您可以在不使用这些资源时停止这些资源，从而节省 75% 的潜在成本（40 小时与 168 小时）。
```

```ad-note
collapse: close
title:  衡量整体效率

衡量工作负载的业务输出以及与交付它相关的成本。使用此度量来了解您从增加输出和降低成本中获得的收益。
```

```ad-note
collapse: close
title:  停止在无差别的繁重工作上花钱

AWS 负责数据中心运营的繁重工作，例如机架、堆叠和为服务器供电。它还消除了使用托管服务管理操作系统和应用程序的运营负担。这使您可以专注于您的客户和业务项目，而不是 IT 基础设施。
```

```ad-note
collapse: close
title:  分析和归因支出

云可以更轻松地准确识别系统的使用情况和成本，然后将 IT 成本透明地分配给各个工作负载所有者。这有助于衡量投资回报率 (ROI)，并为工作负载所有者提供优化的机会他们的资源和降低成本。
```

## 问题和定义

实践云财务管理
    COST 1 如何实施云财务管理？
支出和使用意识
    COST 2 您如何管理使用情况？
    COST 3 您如何监控成本和使用情况？
    COST 4 您如何停用资源？
高性价比的资源
    COST 5 您在选择服务时如何评估成本？
    COST 6 在选择资源类型、规模和数量时，如何实现成本目标？
    COST 7 您如何使用定价模式来降低成本？
    COST 8 您如何规划数据传输费用？
管理需求和供应资源
    COST 9 如何管理需求和供应资源？
随着时间的推移进行优化
    COST 10 如何评估新服务?
    COST 11 如何评估工作量成本？

## 最佳实践
### 实践云财务管理
#### COST 1 如何实施云财务管理？
##### 确立成本优化的责任归属模式

创建一个团队（云业务办公室、云卓越中心或 FinOps 团队），负责在整个组织内建立并维护成本意识。成本优化的负责人可以是了解整个组织和云财务的个人或团队（需要来自财务、技术和业务团队的人员）。

##### 在财务和技术之间建立合作关系

在云之旅的所有阶段，都让财务和技术团队参与成本和使用情况的讨论。团队定期开会，讨论组织目标、成本和使用情况的当前状态以及财务和会计实务等主题。

##### 制定云预算和预测流程

调整现有的组织预算和预测流程，使之适应云成本和使用情况的易变特性。流程必须是动态的，可以使用基于趋势或基于业务驱动因素的算法，也可以将两者结合使用。

##### 在组织流程中落实成本意识

在影响使用量的新流程或现有流程中落实成本意识、创建成本透明度和成本问责制，并利用现有流程提高成本意识。在员工培训中贯彻成本意识。

##### 主动监控成本

利用工具和控制面板主动监控工作负载的成本。定期用已配置的工具或开箱即用的工具审核成本，不要只在收到通知时才查看成本和类别。主动监控和分析成本有助于识别积极趋势，使您能够在整个组织中推广这些趋势。

##### 及时了解新发布的服务

定期咨询专家或 AWS 合作伙伴，以便确定哪些服务和功能的成本更低。查看 AWS 博客和其他信息源。

##### 量化通过成本优化实现的业务价值

通过量化成本优化带来的业务价值，您可以了解组织取得的全部效益。由于成本优化是一项必要的投资，因此量化业务价值之后，您就可以向利益相关者说明投资回报。如果能够量化业务价值，在未来的成本优化投资中，就可以从利益相关者那里得到更多支持，并获得一个框架来衡量组织成本优化活动的成果。

##### 报告和通知成本优化

设置云预算并配置检测异常使用情况的机制。配置相关工具，根据预定义目标发出成本和使用量警报，并在任何使用量超过这些目标时接收通知。定期召开会议，分析工作负载的成本效益，提高成本意识。

##### 建立对成本敏感的文化

在整个组织中实施更改或计划，以建立对成本敏感的文化。建议先从小范围着手，然后随着能力的增强和组织对云的使用的增加，在更广泛的范围实施更大型的计划。

### 支出和使用意识
#### COST 2 您如何管理使用情况？
##### 根据组织的要求制定各种策略

制定策略，确定贵组织应该如何管理资源，并定期执行检查。策略应该涵盖资源和工作负载的成本，包括在资源生命周期内的创建、修改和停用。

##### 制定方向性目标和执行性目标

实施工作负载的成本和使用量方向性目标和执行性目标。方向性目标为组织在预期结果方面指明了方向，而执行性目标则提供了要为工作负载实现的具体可衡量结果。

##### 实施账户结构

实施与您的组织对应的账户结构。这有助于在整个组织内分摊和管理成本。

##### 实施成本控制

根据组织策略以及定义的组和角色来实施控制。这样可以确保成本只根据组织要求的规定产生，例如，控制用户对区域或资源类型的访问。

##### 实施组和角色

实施与策略一致的组和角色，控制每个组中谁可以创建、修改或停用实例和资源。例如，实施开发组、测试组和生产组。这适用于 AWS 服务和第三方解决方案。

##### 跟踪项目生命周期

跟踪、衡量并审计项目、团队和环境的生命周期，以避免使用不必要的资源并为此付费。

#### COST 3 您如何监控成本和使用情况？
##### 配置详细信息源

按小时粒度配置成本管理和报告工具，以提供详细的成本和使用量信息，从而实现更深入的分析和透明度。配置工作负载，为交付的每个业务成果生成或提供日志条目。

##### 确定成本归属类别

确定组织类别，例如业务单位、部门或项目，这些类别可用于在组织中按照内部使用实体分配成本。利用这些类别来执行支出问责制，树立成本意识，并推动高效的使用行为。

##### 建立组织指标

建立此工作负载需要的组织指标。生成的客户报告或提供给客户的 Web 页面都属于工作负载指标。

##### 配置账单和成本管理工具

根据您的组织策略配置成本管理工具，以管理和优化云支出。这包括用于组织和跟踪成本和使用情况数据的服务、工具和资源，通过合并计费和访问权限增强控制，通过预算和预测改进规划，接收通知或提醒，并通过资源和定价优化进一步降低成本。

##### 在成本和使用情况中添加组织信息

根据您的组织、工作负载属性和成本分配类别定义标记方案，以便您可以在成本管理工具中筛选和搜索资源或监控成本和使用情况。在可能的情况下，根据目的、团队、环境或与您的业务相关的其他标准，在所有资源中实施一致的标记。

##### 根据工作负载指标分配成本

根据使用量指标或业务成果分配工作负载的成本，以便衡量工作负载的成本效益。实施一个流程，使用分析服务来分析成本和使用量数据，以便深入了解成本因素和退款功能。

#### COST 4 您如何停用资源？
##### 在资源生命周期内跟踪资源

制定和实施一种方法，在资源生命周期内跟踪资源及其与系统的关联。您可以使用标记来标识资源的工作负载或功能。

##### 实施停用流程

实施一个流程来确定和停用未使用的资源。

##### 停用资源

停用由定期审计或使用情况发生变化等事件触发的资源。停用通常定期执行，可以手动停用，也可以自动停用。

##### 实施数据留存策略

在支持的资源上定义数据留存策略，以根据您组织的要求处理对象的删除事宜。识别并删除非必要的或不再需要的孤立资源和对象。

##### 自动停用资源

设计您的工作负载，使其在您发现并停用非关键资源、不需要的资源或使用率低的资源时妥善处理资源的终止。

### 高性价比的资源
#### COST 5 您在选择服务时如何评估成本？
##### 确定组织对成本的要求

与团队成员合作，为此工作负载确定成本优化与其他支柱（例如性能和可靠性）之间的平衡。

##### 分析此工作负载的所有组件

确认已分析工作负载的每个组件，无论当前大小或当前成本如何。审核工作应该体现出可能带来的好处，例如当前成本和预期成本。

##### 对每个组件进行彻底分析

分析组织为每个组件付出的总体成本。通过考虑运营和管理成本（尤其是在使用云提供商提供的托管服务时）来计算总拥有成本。审核工作量应该体现可能带来的好处（例如分析时间与组件成本成正比）。

##### 选择此工作负载的组件，以便根据组织的优先事项优化成本

为工作负载选择所有组件时考虑成本因素。这包括使用应用程序级别的托管服务或无服务器服务、容器或事件驱动型架构，以降低整体成本。使用开源软件、没有许可证费用的软件或替代方案来尽可能减少许可证成本，从而减少开支。

##### 对不同时间的不同使用情况执行成本分析

工作负载可能会随时间而变化。某些服务或功能在不同的使用水平下更具成本效益。通过根据每个组件在一段时间内的预期使用情况执行分析，工作负载可在其生命周期内保持成本效益。

##### 选择具有经济实惠的许可的软件

开源软件无需软件许可成本，从而大大节省了工作负载的成本。如果需要许可软件，应避免使用绑定到任意属性（如 CPU）的许可证，而应使用绑定到输出或结果的许可证。这些许可证的成本与所提供的效益更为相当。

#### COST 6 在选择资源类型、规模和数量时，如何实现成本目标？
##### 执行成本建模

确定组织要求（如业务需求和现有承诺），并对工作负载及其每个组件进行成本建模（总体成本）。对不同预计负载下的工作负载执行基准测试活动，并比较成本。建模工作量应该体现可能带来的好处，例如花费的时间与组件成本成正比。

##### 根据数据选择资源类型、规模和数量

根据工作负载和资源特征的相关数据选择资源规模或类型。例如计算、内存、吞吐量或写入密集型资源。通常使用工作负载的上一个版本（本地版本）、文档或关于工作负载的其他信息源进行选择。

##### 根据指标自动选择资源类型、规模和数量

使用当前运行的工作负载的指标选择正确的规模和类型，从而优化成本。为计算、存储、数据和网络服务适当地预置吞吐量、规模和存储。这可以通过自动扩展等反馈环路进行，也可以在工作负载中使用自定义代码来实现。

#### COST 7 您如何使用定价模式来降低成本？
##### 执行定价模式分析

分析工作负载的每个组件。确定组件和资源是长时间运行（享受承诺折扣），还是短时间动态运行（采用 Spot 或按需定价）。使用成本管理工具中的建议对工作负载执行分析，并对这些建议应用业务规则以实现高回报。

##### 根据成本选择区域

资源定价在每个区域中可能各不相同。确定区域成本差异，仅当需要满足延迟、数据驻留和数据主权要求时，才在成本较高的区域部署。考虑区域成本有助于您为此工作负载支付最低的总体费用。

##### 选择具有经济实惠的条款的第三方协议

经济实惠的协议和条款可确保这些服务的成本与所提供的效益相称。选择与可为组织带来额外效益相称的协议和定价。

##### 针对此工作负载的所有组件实施定价模式

永久运行的资源应利用预留容量，如节省计划或预留实例。短期容量配置为使用竞价型实例或竞价型实例集。按需型实例仅用于无法中断并且运行时间没有长到可以使用预留容量的短期工作负载，时间为使用时期的 25% 到 75%，具体取决于资源类型。

##### 在管理账户级别执行定价模式分析

检查账单和成本管理工具，并查看承诺和预留的建议折扣，以便在管理账户级别执行定期分析。

#### COST 8 您如何规划数据传输费用？
##### 执行数据传输建模

收集组织要求，并对工作负载及其每个组件执行数据传输建模。这样可以确定满足当前数据传输要求的最低成本点。

##### 选择组件以便优化数据传输成本

选择所有组件然后设计架构，以便降低数据传输成本。其中包括使用广域网（WAN）优化和多可用区（AZ）配置等组件

##### 实施服务以便降低数据传输成本

实施服务以减少数据传输。例如，使用边缘站点或内容分发网络（CDN）向最终用户交付内容，在应用程序服务器或数据库前构建缓存层，并使用专用网络连接而不是 VPN 连接到云端。

### 管理需求和供应资源
#### COST 9 如何管理需求和供应资源？
##### 对工作负载需求执行分析

分析工作负载需求随时间的变化。确认分析涵盖季节性趋势，并准确反映整个工作负载生命周期内的运行条件。分析工作应该体现出可能带来的好处，例如花费的时间与工作负载成本成正比。

##### 实施缓冲区或限流来管理需求

缓冲和限流可修改工作负载需求，从而避免出现任何峰值情形。在客户端执行重试时实施限流。实施缓冲以存储请求并将处理任务往后推迟一段时间。确认设计节流和缓冲区时客户端能够在所需的时间内收到响应。

##### 动态供应资源

资源按计划预置。这种预置可以基于需求（例如通过自动扩缩来实现），也可以基于时间（需求可以预测，基于时间提供资源）。这些方法可以尽可能减少过度预置或预置不足的情况。

### 随着时间的推移进行优化
#### COST 10 如何评估新服务?
##### 制定工作负载审核流程

制定流程，定义工作负载的审核标准和流程。审核工作量应该体现可能带来的好处，例如，核心工作负载或费用占比超过 10% 的工作负载每季度或每六个月审核一次，而费用占比低于 10% 的工作负载每年审核一次。

##### 定期审核和分析此工作负载

根据每个明确的流程定期审核现有工作负载，以便确定是采用新服务、替换现有服务还是重新构建工作负载。

#### COST 11 如何评估工作量成本？
##### 执行运营自动化

评估云上运营工作量的成本。量化使用自动化之后管理任务、部署和其他运营工作减少的时间和工作量。评估运营工作所需的时间和成本，并自动执行管理任务，以尽可能减少人工工作量。
